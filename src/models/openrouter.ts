export async function openrouterInfer(key:string|undefined,model:string,input:string){ if(!key) throw new Error('OPENROUTER_KEY missing'); const res=await fetch('https://openrouter.ai/api/v1/chat/completions',{method:'POST',headers:{'authorization':`Bearer ${key}`,'content-type':'application/json'},body:JSON.stringify({model,messages:[{role:'user',content:input}]})}); if(!res.ok) throw new Error(`OpenRouter ${res.status}`); const data:any=await res.json(); return data.choices?.[0]?.message?.content ?? '';}\n