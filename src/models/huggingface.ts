export async function hfInfer(token:string|undefined,model:string,input:string){ if(!token) throw new Error('HF_TOKEN missing'); const res=await fetch(`https://api-inference.huggingface.co/models/${model}`,{method:'POST',headers:{'authorization':`Bearer ${token}`,'content-type':'application/json'},body:JSON.stringify({inputs:input})}); if(!res.ok) throw new Error(`HF ${res.status}`); const data=await res.json(); if(Array.isArray(data)&&data[0]?.generated_text) return data[0].generated_text; if(typeof data==='string') return data; return JSON.stringify(data);}\n