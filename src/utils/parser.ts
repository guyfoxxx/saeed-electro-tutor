export type Schematic={items:Array<{type:string;x:number;y:number;label?:string}>}; export function parseDSL(dsl:string):Schematic{const items:Schematic['items']=[]; for(const line of dsl.split(/\r?\n/).map(l=>l.trim()).filter(Boolean)){ const [type,sx,sy,...rest]=line.split(/\s+/); const x=Number(sx), y=Number(sy); if(!type||Number.isNaN(x)||Number.isNaN(y)) throw new Error(`Invalid line: "${line}"`); items.push({type,x,y,label:rest.join(' ')||undefined}); } return {items}; }\n